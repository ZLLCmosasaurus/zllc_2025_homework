# Home_Work_2.1.4

## UART&dr16

[Robomaster大疆遥控器DT7&DR16介绍与C型开发板通信教程_大疆dt7遥控器-CSDN博客](https://blog.csdn.net/2302_80641606/article/details/141711957)

![图片2](pic/%E5%9B%BE%E7%89%872.png)

memcpy(&Pre_UART_Rx_Data, UART_Manage_Object_1->Rx_Buffer, sizeof(Struct_DR16_UART_Data));

![屏幕截图 2024-12-31 184617](D:/GIT/zllc_2025_homework/pic/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-12-31%20184617.png)![屏幕截图 2024-12-31 184734](C:/Users/wzh/Pictures/Screenshots/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-12-31%20184734.png)![屏幕截图 2024-12-31 184422](pic/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-12-31%20184422.png)

## DBUS

DBus接收机负责从总线（会话总线或系统总线）接收消息、处理这些消息，并根据消息类型执行相应的操作（如方法调用、信号处理等）

接收机首先需要连接到DBus总线（会话总线或系统总线）。通过连接总线，接收机可以接收其他进程发送的消息。

- **会话总线**：用于用户级进程之间的通信，通常与桌面应用程序和用户应用程序相关。
- **系统总线**：用于系统级进程之间的通信，通常涉及硬件驱动程序、系统服务等。

## DMA

[STM32F103 串口DMA + 空闲中断 实现不定长数据收发_stm32f103串口空闲中断-CSDN博客](https://blog.csdn.net/qq_36310253/article/details/109641759)

### DMA原理

DMA的基本原理如下：

1. **外设请求DMA**：当外设需要与内存交换数据时，它会通过DMA控制器发起DMA请求。比如，当外设准备好数据发送到内存时，它向DMA控制器发出请求。
2. **DMA控制器介入**：DMA控制器接收到请求后，首先向CPU发送一个中断信号，请求使用系统的总线进行数据传输。
3. **总线占用**：DMA控制器会控制总线，直接从外设读取数据或将数据写入外设，而无需CPU的干预。在传输过程中，CPU的工作可以被暂停，允许DMA控制器独立进行数据传输。
4. **传输完成后**：数据传输完成后，DMA控制器会向CPU发送中断信号，通知数据传输已结束，CPU可以继续其操作。

### DMA空闲中断

DMA空闲中断是指DMA控制器在完成数据传输后，如果没有进一步的传输任务，它会向CPU发送一个空闲中断信号，表示DMA控制器处于空闲状态，系统可以继续其他操作。通过空闲中断，CPU可以检查并利用DMA控制器的空闲时间，进行其他计算任务，或者启动其他需要DMA支持的任务。

### DMA工作流程简述

1. **初始化阶段**：在使用DMA之前，系统需要配置DMA控制器，包括设置源地址、目的地址、数据传输的方向（从外设到内存，或从内存到外设）、数据长度等。
2. **传输阶段**：外设发出请求后，DMA控制器接管系统总线，完成数据传输。传输的速度比CPU控制下的数据传输快，并且不会占用CPU资源。
3. **完成阶段**：数据传输完成后，DMA控制器会向CPU发送中断信号，表明传输已结束。此时，DMA控制器可以进入空闲状态，等待新的请求。

（尚未结束）
